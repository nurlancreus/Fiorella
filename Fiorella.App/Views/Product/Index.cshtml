@model ProductGetDto

@{
    ViewBag.Title = "Product Details";
    var otherImages = Model.Images.Where(i => !i.IsMain).Take(4);
    var mainImageUrl = Model.Images.FirstOrDefault(i => i.IsMain)?.Url ?? "default-image.jpg";
    var categories = Model.Categories.Count > 0 ? string.Join(",", Model.Categories.Select(c => c.Name).Take(3)) : "No Categories";
    var tags = Model.Categories.Count > 0 ? string.Join(",", Model.Tags.Select(c => c.Name).Take(3)) : "No Tags";
}

<main>
    <section id="secondpageintroduce">
        <div class="container">
            <div class="col-lg-12 info">
                <div class="title">
                    <h1>@Model.Name</h1>
                </div>
                <div class="desc">
                    <p>@Model.Info</p>
                </div>
            </div>
        </div>
    </section>

    <section id="orangeamarylls">
        <div class="container">
            <div class="row">
                <div class="images col-lg-6 col-md-12 col-12">
                    <div class="littleImages">
                        @foreach (var image in otherImages)
                        {

                            <div class="littleimage">
                                <img src="~/assets/images/product/@image.Url"
                                     alt="product image" />
                            </div>
                        }
                    </div>

                    <div class="bigImage">
                        <img src="~/assets/images/product/@mainImageUrl"
                             alt="Main image" />
                    </div>
                </div>
                <div class="infos col-lg-6 col-md-12 col-12">
                    <div class="info">
                        <div class="title">
                            <h1>@Model.TitleDescription</h1>
                        </div>
                        <div class="price">
                            <p>$@Model.Price</p>
                        </div>
                        <div class="desc">
                            <p>
                                @Model.Description
                            </p>
                        </div>
                        <div class="button product-details-add-basket" data-id="@Model.Id" data-stock="@Model.Stock">
                            <input type="text" placeholder="Quantity" />
                            <div class="counter">
                                <i class="fas fa-chevron-left minus"></i>
                                <span class="counting">0</span>
                                <i class="fas fa-chevron-right plus"></i>
                            </div>
                            @* <button type="button">ADD TO CART <span></span></button> *@
                            @{
                                if (Model.Stock != 0)
                                {
                                    <a class="btn add-basket" asp-controller="Product" asp-action="AddBasket" asp-route-id="@Model.Id">ADD TO CART <span></span></a>
                                } else
                                {
                                    <div class="text-uppercase">SOLD</div>
                                }
                            }
                        </div>
                        <div class="basket-message text-danger opacity-0 visually-hidden">Error text</div>
                        <div class="details">
                            <span>SKU: <a href="">989873</a></span>
                            <span>Categories: <a href="">@categories</a></span>
                            <span>Tags: <a href="">@tags</a></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="tabs">
        <div class="container">
            <div class="row titles">
                <div data-id="powerofflower" class="col-lg-2 col-md-2 col-5 title">
                    <button style="border-top: none !important" type="button">
                        <span>DESCRIPTION</span>
                    </button>
                </div>
                <div data-id="additional" class="col-lg-3 col-md-3 col-8 title">
                    <button style="
                  border-top: none !important;
                  border-left: none !important;
                  border-right: none !important;
                "
                            type="button">
                        <span>ADDITIONAL INFORMATION</span>
                    </button>
                </div>
                <div data-id="reviews" class="col-lg-2 col-md-4 col-5 title">
                    <button style="border-top: none !important" type="button">
                        <span>REVIEWS (2)</span>
                    </button>
                </div>
            </div>

            <div class="row paragraphs">
                <div class="col-lg-12 powerofflower">
                    <div class="title">
                        <h1>The power of flowers</h1>
                    </div>
                    <div class="desc">
                        <p>
                            Aliquam lorem ante, dapibus in, viverra quis, feugiat a,
                            tellus. Phasellus viverra nulla ut metus varius laoreet.
                            Quisque rutrum. Aenean imperdiet. Etiam ultricies nisi vel
                            augue. Curabitur ullamcorper ultricies nisi. Nam eget dui.
                            Etiam rhoncus. Maecenas tempus, tellus eget condimentum
                            rhoncus, sem quam semper libero, sit amet adipiscing sem neque
                            sed ipsum. Nam quam nunc, blandit vel, luctus pulvinar,
                            hendrerit id, lorem. Maecenas nec odio et ante
                        </p>
                    </div>
                </div>
                <div class="col-lg-12 additional">
                    <span style="font-weight: bolder">Weight:</span><span style="margin-left: 10px">1kg</span><br />
                    <span style="font-weight: bolder">Dimensions:</span><span style="margin-left: 10px">30 x 30 x 50 cm</span>
                </div>
                <div class="col-lg-12 reviews">
                    <div class="title">
                        <h3>Reviews</h3>
                    </div>
                    <div class="review">
                        <div class="image">
                            <img src="https://fiorello.qodeinteractive.com/wp-content/uploads/2018/04/user-img-1-100x100.png"
                                 alt="" />
                        </div>
                        <div class="info">
                            <span>JOSHUA GARCIA</span> <span> 27.04.2018</span>
                            <p>
                                Lorem ipsum dolor sit amet, consectetuer adipiscing elit.
                                Aenean commodo ligula eget dolor. Aenean massa. Cum sociis
                                Theme natoque penatibus et magnis dis parturient montes,
                                nascetur ridiculus mus.
                            </p>
                        </div>
                    </div>
                    <div class="review">
                        <div class="image">
                            <img src="https://fiorello.qodeinteractive.com/wp-content/uploads/2018/04/user-img-2-100x100.png"
                                 alt="" />
                        </div>
                        <div class="info">
                            <span>JOAN STANLEY </span><span>27.04.2018</span>
                            <p>
                                Lorem ipsum dolor sit amet, consectetuer adipiscing elit.
                                Aenean commodo ligula eget dolor. Aenean massa. Cum sociis
                                Theme natoque penatibus et magnis dis parturient montes,
                                nascetur ridiculus mus.
                            </p>
                        </div>
                    </div>

                    <div class="forum">
                        <div class="title">
                            <h2>Add a review</h2>
                        </div>
                        <div class="warning">
                            <span>
                                Your email address will not be published. Required fields
                                are marked *
                            </span>
                        </div>
                        <form action="" method="post">
                            <label for="yourreiew"><span>Your review *</span></label><br />
                            <input style="height: 200px"
                                   type="text"
                                   name="yourreiew"
                                   required
                                   id="" /><br />
                            <label for="name"><span>Name *</span></label><br />
                            <input style="height: 60px"
                                   type="text"
                                   name="name"
                                   required
                                   id="" /><br />
                            <label for="name"><span>Email *</span></label><br />
                            <input style="height: 60px"
                                   type="email"
                                   name="mail"
                                   required
                                   id="" /><br />
                            <input type="checkbox" name="" id="checkbox" /><br />
                            <span>
                                Save my name, email, and website in this browser for the
                                next time I comment.
                            </span><br />
                            <button type="button"><span>SUBMIT</span></button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="products">
        <div class="container">
            <div class="row">
                <partial name="../Shared/_Products.cshtml" model="ViewBag.Products" />

                @* <div data-aos="flip-up"
                data-aos-duration="1000"
                class="product col-lg-3 col-md-6 popular winter all">
                <div class="productImage">
                <img src="https://fiorello.qodeinteractive.com/wp-content/uploads/2018/04/shop-14-img.jpg"
                alt="" />
                </div>
                <div class="productTitle">
                <p>MAJESTY PALM</p>
                </div>
                <div class="productPrice">
                <span class="addToCardBtn" data-id="1">Add to cart</span><span>$</span><span>259</span>
                </div>
                <div class="addToCart"></div>
                </div>

                <div data-aos="flip-up"
                data-aos-duration="1000"
                class="product col-lg-3 col-md-6 popular winter various all">
                <div class="productImage">
                <img src="https://fiorello.qodeinteractive.com/wp-content/uploads/2018/04/shop-13-img.jpg"
                alt="" />
                </div>
                <div class="productTitle">
                <p>FOXGLOW FLOWER</p>
                </div>
                <div class="productPrice">
                <span class="addToCardBtn" data-id="2">Add to cart</span>
                <span>$</span><span>259</span>
                </div>
                <div></div>
                </div>

                <div data-aos="flip-up"
                data-aos-duration="1000"
                class="product col-lg-3 col-md-6 popular winter all">
                <div class="productImage">
                <img src=" https://fiorello.qodeinteractive.com/wp-content/uploads/2018/05/shop-10-img.jpg"
                alt="" />
                <span class="badge badge-dark bg-dark position-absolute"
                style="top: 3%; left: 8%; transform: scale(1.3)">SOLD</span>
                </div>
                <div class="productTitle">
                <p>SWEET ALYYSUM</p>
                </div>
                <div class="productPrice">
                <span class="addToCardBtn" data-id="3">Add to cart</span>
                <span>$</span><span>259</span>
                </div>
                <div class="addToCart"></div>
                </div>

                <div data-aos="flip-up"
                data-aos-duration="1000"
                class="product col-lg-3 col-md-6 popular all">
                <div class="productImage">
                <img src="   https://fiorello.qodeinteractive.com/wp-content/uploads/2018/04/shop-11-img.jpg"
                alt="" />
                </div>
                <div class="productTitle">
                <p>SPRING SNOWFLAKE</p>
                </div>
                <div class="productPrice">
                <span class="addToCardBtn" data-id="4">Add to cart</span>
                <span>$</span><span>170</span>
                </div>
                <div></div>
                </div> *@
            </div>
        </div>
    </section>
</main>
